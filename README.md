### .Net/CSharp EditorConfig configuration file

Used to define and maintain consistent code styles between team members working on the same code as well as between different editors and
IDEs that they might use.

### How do I use It?

All you have to do is drop it into the root of your project. Then any time you open a file in Visual Studio, the .editorconfig file settings
will be used to help format the document and also raise warnings if your code style and formatting does not conform. For Visual Studio Code,
you can install the EditorConfig for VS Code extension to get support.

#### .NET Code Style

Extensive code style settings for C# and VB.NET have been defined that require the latest C# features to be used.
All C# related code styles are consistent with [StyleCop's](https://github.com/DotNetAnalyzers/StyleCopAnalyzers) default styles, with the
exception of the file header definition, which has been changed to a more modern format.
All .NET naming conventions are consistent with the .NET Framework Design
Guideline's [Naming Guidelines](https://docs.microsoft.com/en-us/dotnet/standard/design-guidelines/naming-guidelines).

#### .NET-coding-convention EditorCofnig properties

<ul class="article__list list _bullet h2-related" id="90900cf9"><li class="list__item" id="7ce7498f"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/formatting-rules#csharp_indent_braces" data-test="external-link " rel="" class="link link--external link--dark" id="1bc98397">csharp_indent_braces</a></p></li><li class="list__item" id="1e4a0a1"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/formatting-rules#csharp_indent_switch_labels" data-test="external-link " rel="" class="link link--external link--dark" id="eaa35209">csharp_indent_switch_labels</a></p></li><li class="list__item" id="6c20951"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/formatting-rules#csharp_new_line_before_catch" data-test="external-link " rel="" class="link link--external link--dark" id="8912733d">csharp_new_line_before_catch</a></p></li><li class="list__item" id="a490f494"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/formatting-rules#csharp_new_line_before_else" data-test="external-link " rel="" class="link link--external link--dark" id="4e824567">csharp_new_line_before_else</a></p></li><li class="list__item" id="c3fdc7cf"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/formatting-rules#csharp_new_line_before_finally" data-test="external-link " rel="" class="link link--external link--dark" id="43f9245d">csharp_new_line_before_finally</a></p></li><li class="list__item" id="ef54f461"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/formatting-rules#csharp_new_line_before_members_in_object_initializers" data-test="external-link " rel="" class="link link--external link--dark" id="ebcf4837">csharp_new_line_before_members_in_object_initializers</a></p></li><li class="list__item" id="5ec11e91"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/formatting-rules#csharp_new_line_before_open_brace" data-test="external-link " rel="" class="link link--external link--dark" id="62ee563d">csharp_new_line_before_open_brace</a></p></li><li class="list__item" id="18ea5d44"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/formatting-rules#csharp_new_line_between_query_expression_clauses" data-test="external-link " rel="" class="link link--external link--dark" id="92f91568">csharp_new_line_between_query_expression_clauses</a></p></li><li class="list__item" id="d9c07e26"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/formatting-rules#csharp_preferred_modifier_order" data-test="external-link " rel="" class="link link--external link--dark" id="80ed8d02">csharp_preferred_modifier_order</a></p></li><li class="list__item" id="d76862c"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/formatting-rules#csharp_preserve_single_line_blocks" data-test="external-link " rel="" class="link link--external link--dark" id="4101cb29">csharp_preserve_single_line_blocks</a></p></li><li class="list__item" id="356b6c8f"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/formatting-rules#csharp_space_after_cast" data-test="external-link " rel="" class="link link--external link--dark" id="f3fe7a41">csharp_space_after_cast</a></p></li><li class="list__item" id="a808dec1"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/formatting-rules#csharp_space_after_colon_in_inheritance_clause" data-test="external-link " rel="" class="link link--external link--dark" id="d028979a">csharp_space_after_colon_in_inheritance_clause</a></p></li><li class="list__item" id="6744c5dd"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/formatting-rules#csharp_space_after_comma" data-test="external-link " rel="" class="link link--external link--dark" id="370bdad5">csharp_space_after_comma</a></p></li><li class="list__item" id="25d3daa7"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/formatting-rules#csharp_space_after_dot" data-test="external-link " rel="" class="link link--external link--dark" id="534fcc6">csharp_space_after_dot</a></p></li><li class="list__item" id="deebe319"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/formatting-rules#csharp_space_after_keywords_in_control_flow_statements" data-test="external-link " rel="" class="link link--external link--dark" id="59e9ddf2">csharp_space_after_keywords_in_control_flow_statements</a></p></li><li class="list__item" id="f7f2cd04"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/formatting-rules#csharp_space_after_semicolon_in_for_statement" data-test="external-link " rel="" class="link link--external link--dark" id="799ddfd1">csharp_space_after_semicolon_in_for_statement</a></p></li><li class="list__item" id="6c56cb63"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/formatting-rules#csharp_space_around_binary_operators" data-test="external-link " rel="" class="link link--external link--dark" id="d573697a">csharp_space_around_binary_operators</a></p></li><li class="list__item" id="34b3783f"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/formatting-rules#csharp_space_before_colon_in_inheritance_clause" data-test="external-link " rel="" class="link link--external link--dark" id="6fb5d76d">csharp_space_before_colon_in_inheritance_clause</a></p></li><li class="list__item" id="501bd35d"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/formatting-rules#csharp_space_before_comma" data-test="external-link " rel="" class="link link--external link--dark" id="4846cf8f">csharp_space_before_comma</a></p></li><li class="list__item" id="3b82560b"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/formatting-rules#csharp_space_before_dot" data-test="external-link " rel="" class="link link--external link--dark" id="c2a96d92">csharp_space_before_dot</a></p></li><li class="list__item" id="83ab4ec9"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/formatting-rules#csharp_space_before_open_square_brackets" data-test="external-link " rel="" class="link link--external link--dark" id="81fc968">csharp_space_before_open_square_brackets</a></p></li><li class="list__item" id="8304dba3"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/formatting-rules#csharp_space_before_semicolon_in_for_statement" data-test="external-link " rel="" class="link link--external link--dark" id="27b3486e">csharp_space_before_semicolon_in_for_statement</a></p></li><li class="list__item" id="b2403870"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/formatting-rules#csharp_space_between_empty_square_brackets" data-test="external-link " rel="" class="link link--external link--dark" id="d555cb68">csharp_space_between_empty_square_brackets</a></p></li><li class="list__item" id="5fdd3e56"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/formatting-rules#csharp_space_between_method_call_empty_parameter_list_parentheses" data-test="external-link " rel="" class="link link--external link--dark" id="53b56e99">csharp_space_between_method_call_empty_parameter_list_parentheses</a></p></li><li class="list__item" id="e658f445"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/formatting-rules#csharp_space_between_method_call_name_and_opening_parenthesis" data-test="external-link " rel="" class="link link--external link--dark" id="66e3066c">csharp_space_between_method_call_name_and_opening_parenthesis</a></p></li><li class="list__item" id="477c46"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/formatting-rules#csharp_space_between_method_call_parameter_list_parentheses" data-test="external-link " rel="" class="link link--external link--dark" id="3fa61a8c">csharp_space_between_method_call_parameter_list_parentheses</a></p></li><li class="list__item" id="f8f78fca"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/formatting-rules#csharp_space_between_method_declaration_empty_parameter_list_parentheses" data-test="external-link " rel="" class="link link--external link--dark" id="96c9aa64">csharp_space_between_method_declaration_empty_parameter_list_parentheses</a></p></li><li class="list__item" id="577ad6c"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/formatting-rules#csharp_space_between_method_declaration_name_and_open_parenthesis" data-test="external-link " rel="" class="link link--external link--dark" id="5a31d153">csharp_space_between_method_declaration_name_and_open_parenthesis</a></p></li><li class="list__item" id="59fb24b3"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/formatting-rules#csharp_space_between_method_declaration_parameter_list_parentheses" data-test="external-link " rel="" class="link link--external link--dark" id="25f23e24">csharp_space_between_method_declaration_parameter_list_parentheses</a></p></li><li class="list__item" id="7b9de0de"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/formatting-rules#csharp_space_between_parentheses" data-test="external-link " rel="" class="link link--external link--dark" id="8cdbb081">csharp_space_between_parentheses</a></p></li><li class="list__item" id="b9da41c8"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/formatting-rules#csharp_space_between_square_brackets" data-test="external-link " rel="" class="link link--external link--dark" id="e4f7207c">csharp_space_between_square_brackets</a></p></li><li class="list__item" id="64f40a54"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/ide0007-ide0008#csharp_style_var_elsewhere" data-test="external-link " rel="" class="link link--external link--dark" id="62002765">csharp_style_var_elsewhere</a></p></li><li class="list__item" id="7f207e0f"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/ide0007-ide0008#csharp_style_var_for_built_in_types" data-test="external-link " rel="" class="link link--external link--dark" id="69fe8685">csharp_style_var_for_built_in_types</a></p></li><li class="list__item" id="4f7ec3e8"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/ide0007-ide0008#csharp_style_var_when_type_is_apparent" data-test="external-link " rel="" class="link link--external link--dark" id="8ead8f7a">csharp_style_var_when_type_is_apparent</a></p></li><li class="list__item" id="338f9a29"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/ide0065#csharp_using_directive_placement" data-test="external-link " rel="" class="link link--external link--dark" id="cc058b3d">csharp_using_directive_placement</a></p></li><li class="list__item" id="3871e81c"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/ide0047-ide0048#dotnet_style_parentheses_in_arithmetic_binary_operators" data-test="external-link " rel="" class="link link--external link--dark" id="9a895823">dotnet_style_parentheses_in_arithmetic_binary_operators</a></p></li><li class="list__item" id="47e6d3fc"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/ide0047-ide0048#dotnet_style_parentheses_in_other_binary_operators" data-test="external-link " rel="" class="link link--external link--dark" id="67142456">dotnet_style_parentheses_in_other_binary_operators</a></p></li><li class="list__item" id="4fb64821"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/ide0047-ide0048#dotnet_style_parentheses_in_relational_binary_operators" data-test="external-link " rel="" class="link link--external link--dark" id="402fb997">dotnet_style_parentheses_in_relational_binary_operators</a></p></li><li class="list__item" id="a8595092"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/ide0049#dotnet_style_predefined_type_for_locals_parameters_members" data-test="external-link " rel="" class="link link--external link--dark" id="cbfb104a">dotnet_style_predefined_type_for_locals_parameters_members</a></p></li><li class="list__item" id="821e0256"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/ide0049#dotnet_style_predefined_type_for_member_access" data-test="external-link " rel="" class="link link--external link--dark" id="84e72319">dotnet_style_predefined_type_for_member_access</a></p></li><li class="list__item" id="b8e6c040"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/ide0003-ide0009#dotnet_style_qualification_for_event" data-test="external-link " rel="" class="link link--external link--dark" id="5eba11b3">dotnet_style_qualification_for_event</a></p></li><li class="list__item" id="4da93d0e"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/ide0003-ide0009#dotnet_style_qualification_for_field" data-test="external-link " rel="" class="link link--external link--dark" id="fe5fd86d">dotnet_style_qualification_for_field</a></p></li><li class="list__item" id="ee57a10a"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/ide0003-ide0009#dotnet_style_qualification_for_method" data-test="external-link " rel="" class="link link--external link--dark" id="9be0bd8">dotnet_style_qualification_for_method</a></p></li><li class="list__item" id="91154996"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/ide0003-ide0009#dotnet_style_qualification_for_property" data-test="external-link " rel="" class="link link--external link--dark" id="8bcb7286">dotnet_style_qualification_for_property</a></p></li><li class="list__item" id="78d0c346"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/ide0040#dotnet_style_require_accessibility_modifiers" data-test="external-link " rel="" class="link link--external link--dark" id="e70bd48a">dotnet_style_require_accessibility_modifiers</a></p></li><li class="list__item" id="530c7375"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/ide0073#file_header_template" data-test="external-link " rel="" class="link link--external link--dark" id="241f3783">file_header_template</a></p></li><li class="list__item" id="5e07f47e"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/ide0011#csharp_prefer_braces" data-test="external-link " rel="" class="link link--external link--dark" id="fc65cf31">csharp_prefer_braces</a></p></li><li class="list__item" id="f5ecfff5"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/ide0022#csharp_style_expression_bodied_methods" data-test="external-link " rel="" class="link link--external link--dark" id="b10f7ddc">csharp_style_expression_bodied_methods</a></p></li><li class="list__item" id="1d5df49a"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/ide0021#csharp_style_expression_bodied_constructors" data-test="external-link " rel="" class="link link--external link--dark" id="a1c7a521">csharp_style_expression_bodied_constructors</a></p></li><li class="list__item" id="c78221e2"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/ide0025#csharp_style_expression_bodied_properties" data-test="external-link " rel="" class="link link--external link--dark" id="1c818ed8">csharp_style_expression_bodied_properties</a></p></li><li class="list__item" id="15c0193e"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/ide0027#csharp_style_expression_bodied_accessors" data-test="external-link " rel="" class="link link--external link--dark" id="f374af31">csharp_style_expression_bodied_accessors</a></p></li><li class="list__item" id="3071e591"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/formatting-rules#dotnet_separate_import_directive_groups" data-test="external-link " rel="" class="link link--external link--dark" id="5014bc42">dotnet_separate_import_directive_groups</a></p></li><li class="list__item" id="96764371"><p class="article__p child"><a href="https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/formatting-rules#dotnet_sort_system_directives_first" data-test="external-link " rel="" class="link link--external link--dark" id="af8ae48e">dotnet_sort_system_directives_first</a></p></li><li class="list__item" id="11cf5923"><p class="article__p child"><code class="code ">dotnet_diagnostic.*</code> — supported for all compiler warnings.</p></li><li class="list__item" id="df280b7e"><p class="article__p child"> <code class="code ">dotnet_naming_rule.*</code>, <code class="code ">dotnet_naming_style.*</code>, <code class="code ">dotnet_naming_symbols.*</code> — will work if the specified <a href="https://docs.microsoft.com/en-us/visualstudio/ide/editorconfig-naming-conventions#kinds-of-symbols" data-test="external-link " rel="" class="link link--external link--dark" id="92ae471e">kinds of symbols</a> can be matched by kinds of symbols available in JetBrains Fleet naming settings. </p></li></ul>

#### Custom EditorConfig properties

Custom EditorConfig properties that allow configuring code style and code inspection settings. Properties for code inspections can be found
here:

- [Create portable, custom editor settings with EditorConfig](https://learn.microsoft.com/en-us/visualstudio/ide/create-portable-custom-editor-options?view=vs-2022)

Properties for code style and formatting settings are listed in the child pages of the Reformat C# code topic:

- [Reformat C# code](https://www.jetbrains.com/help/fleet/reformat-csharp.html)

### How can I get it?

Download the `.editorconfig` file in this repository and place `.editorconfig` file in you current directory.

## Code Formatting Tools in dotnet

To help enable an easy workflow and reduce the number of formatting changes requested, this document provides steps to download and enable the various different tools in different development environments to enable a seamless workflow for ensuring that keeping code formatted is a pleasant experience.

## Downloading formatting tools

### C#/VB

C# and VB code in the repository use the built-in Roslyn support for EditorConfig to enable auto-formatting in many IDEs. As a result, no additional tools are required to enable keeping your code formatted. If you want to use `dotnet format` to do formatting or are using the git pre-commit hook mentioned later in this document, you can run `./dotnet.cmd tool restore` or `./dotnet.sh tool restore` from the root of the repository to enable the `dotnet format` command.

## Setting up automatic formatting

To make the formatting workflow more seamless for contributors, instructions are included below to help enable "format-on-save" or other forms of automatic formatting in various different IDEs or as a Git pre-commit hook for IDEs that do not support "format-on-save" scenarios.

This section is open to contributions for instructions on how to enable "format-on-save"-like semantics in IDEs and editors not mentioned.

### Visual Studio Code

Enabling a "format-on-save" experience in VSCode is quite easy. Add the following setting to your `.vscode/settings.json` file to enable "format-on-save":

```json
    "editor.formatOnSave": true,
```

The sections below include any additional instructions to configure the experience for different languages.

#### C#/VB

There are currently some limitations in OmniSharp that causes issues with the auto-formatting. Once a VSCode C# extension releases with both <https://github.com/OmniSharp/omnisharp-roslyn/pull/2227> and <https://github.com/OmniSharp/omnisharp-vscode/pull/4738>, then format-on-save should be possible to enable in VSCode for C# and Visual Basic sources.

### Visual Studio

Visual Studio does not have a "format-on-save" feature but it does have settings for "format on end of statement" or "format on end of block" that can provide some auto-formatting features.

Using these features in combination with the steps specified in the [Git Hooks](#git-hooks) section will enable a seamless formatting experience.

The settings for C#, VB, C, and C++ are all in a dialog under the `Tools > Options` menu item.

#### C#/VB

In the options view, go to `Text Editor > C# > Code Style > Formatting > General` for C# settings. Make sure to check the various options for whenever you want Visual Studio to auto-format your code.

### Git Hooks

Git provides a number of hooks to enable running scripts before commit, push, pull, etc. This section describes adding a pre-commit hook to automatically format code before committing to make formatting seamless even when your development environment doesn't support "format-on-save" or similar functionality with the formatting tools this repository uses.

#### Auto-format before committing

To enable auto-formatting before committing, you can create a `.git/hooks/pre-commit` file in your local `dotnet/runtime` clone and add a call to the script located at `eng/formatting/format.sh` to auto-format your code before committing. Since Git for Windows also installs Git Bash, this script will work for both Windows and non-Windows platforms.

The following code block can be used as the contents of the `pre-commit` file to enable the auto-formatting hook:

```sh
#!/bin/sh
./eng/formatting/format.sh

```
